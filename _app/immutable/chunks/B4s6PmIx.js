import{at as $,a6 as g,X as q,e as I,V as D,au as V,h as v,l as R,Y as X,av as Z,g as M,a9 as B,aw as N,ad as Y,T as Q,a7 as F,k as K,j as S,S as j,w as T,P as W,ax as A,ay as k,az as C,J as P,aA as ee,aB as re,aC as se,aD as L,u as y,aE as ne,F as te,an as ie,aF as ae,aG as fe,L as ue,aH as oe,aI as _,aJ as H,aK as U,aL as ce,aM as le}from"./S2HEV38E.js";class z{anchor;#r=new Map;#s=new Map;#e=new Map;#n=new Set;#t=!0;constructor(e,n=!0){this.anchor=e,this.#t=n}#i=e=>{if(this.#r.has(e)){var n=this.#r.get(e),s=this.#s.get(n);if(s)$(s),this.#n.delete(n);else{var t=this.#e.get(n);t&&(this.#s.set(n,t.effect),this.#e.delete(n),t.fragment.lastChild.remove(),this.anchor.before(t.fragment),s=t.effect)}for(const[i,f]of this.#r){if(this.#r.delete(i),i===e)break;const a=this.#e.get(f);a&&(g(a.effect),this.#e.delete(f))}for(const[i,f]of this.#s){if(i===n||this.#n.has(i))continue;const a=()=>{if(Array.from(this.#r.values()).includes(i)){var o=document.createDocumentFragment();X(f,o),o.append(I()),this.#e.set(i,{effect:f,fragment:o})}else g(f);this.#n.delete(i),this.#s.delete(i)};this.#t||!s?(this.#n.add(i),q(f,a,!1)):a()}}};#a=e=>{this.#r.delete(e);const n=Array.from(this.#r.values());for(const[s,t]of this.#e)n.includes(s)||(g(t.effect),this.#e.delete(s))};ensure(e,n){var s=V,t=Z();if(n&&!this.#s.has(e)&&!this.#e.has(e))if(t){var i=document.createDocumentFragment(),f=I();i.append(f),this.#e.set(e,{effect:D(()=>n(f)),fragment:i})}else this.#s.set(e,D(()=>n(this.anchor)));if(this.#r.set(s,e),t){for(const[a,u]of this.#s)a===e?s.unskip_effect(u):s.skip_effect(u);for(const[a,u]of this.#e)a===e?s.unskip_effect(u.effect):s.skip_effect(u.effect);s.oncommit(this.#i),s.ondiscard(this.#a)}else v&&(this.anchor=R),this.#i(s)}}function me(r,e,n=!1){var s;v&&(s=R,j());var t=new z(r),i=n?B:0;function f(a,u){if(v){var o=N(s),l;if(o===Y?l=0:o===Q?l=!1:l=parseInt(o.substring(1)),a!==l){var b=F();K(b),t.anchor=b,S(!1),t.ensure(a,u),S(!0);return}}t.ensure(a,u)}M(()=>{var a=!1;e((u,o=0)=>{a=!0,f(o,u)}),a||f(!1,null)},i)}function we(r,e,n){var s;v&&(s=R,j());var t=new z(r);M(()=>{var i=e()??null;if(v){var f=N(s),a=f===Y,u=i!==null;if(a!==u){var o=F();K(o),t.anchor=o,S(!1),t.ensure(i,i&&(l=>n(l,i))),S(!0);return}}t.ensure(i,i&&(l=>n(l,i)))},B)}let w=!1;function de(r){var e=w;try{return w=!1,[r(),w]}finally{w=e}}const pe={get(r,e){if(!r.exclude.includes(e))return r.props[e]},set(r,e){return!1},getOwnPropertyDescriptor(r,e){if(!r.exclude.includes(e)&&e in r.props)return{enumerable:!0,configurable:!0,value:r.props[e]}},has(r,e){return r.exclude.includes(e)?!1:e in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(e=>!r.exclude.includes(e))}};function Pe(r,e,n){return new Proxy({props:r,exclude:e},pe)}const he={get(r,e){if(!r.exclude.includes(e))return P(r.version),e in r.special?r.special[e]():r.props[e]},set(r,e,n){if(!(e in r.special)){var s=T;try{y(r.parent_effect),r.special[e]=ve({get[e](){return r.props[e]}},e,C)}finally{y(s)}}return r.special[e](n),L(r.version),!0},getOwnPropertyDescriptor(r,e){if(!r.exclude.includes(e)&&e in r.props)return{enumerable:!0,configurable:!0,value:r.props[e]}},deleteProperty(r,e){return r.exclude.includes(e)||(r.exclude.push(e),L(r.version)),!0},has(r,e){return r.exclude.includes(e)?!1:e in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(e=>!r.exclude.includes(e))}};function Se(r,e){return new Proxy({props:r,exclude:e,special:{},version:W(0),parent_effect:T},he)}const _e={get(r,e){let n=r.props.length;for(;n--;){let s=r.props[n];if(_(s)&&(s=s()),typeof s=="object"&&s!==null&&e in s)return s[e]}},set(r,e,n){let s=r.props.length;for(;s--;){let t=r.props[s];_(t)&&(t=t());const i=A(t,e);if(i&&i.set)return i.set(n),!0}return!1},getOwnPropertyDescriptor(r,e){let n=r.props.length;for(;n--;){let s=r.props[n];if(_(s)&&(s=s()),typeof s=="object"&&s!==null&&e in s){const t=A(s,e);return t&&!t.configurable&&(t.configurable=!0),t}}},has(r,e){if(e===H||e===U)return!1;for(let n of r.props)if(_(n)&&(n=n()),n!=null&&e in n)return!0;return!1},ownKeys(r){const e=[];for(let n of r.props)if(_(n)&&(n=n()),!!n){for(const s in n)e.includes(s)||e.push(s);for(const s of Object.getOwnPropertySymbols(n))e.includes(s)||e.push(s)}return e}};function xe(...r){return new Proxy({props:r},_e)}function ve(r,e,n,s){var t=!ie||(n&ae)!==0,i=(n&ne)!==0,f=(n&ce)!==0,a=s,u=!0,o=()=>(u&&(u=!1,a=f?te(s):s),a),l;if(i){var b=H in r||U in r;l=A(r,e)?.set??(b&&e in r?c=>r[e]=c:void 0)}var p,O=!1;i?[p,O]=de(()=>r[e]):p=r[e],p===void 0&&s!==void 0&&(p=o(),l&&(t&&k(),l(p)));var d;if(t?d=()=>{var c=r[e];return c===void 0?o():(u=!0,c)}:d=()=>{var c=r[e];return c!==void 0&&(a=void 0),c===void 0?a:c},t&&(n&C)===0)return d;if(l){var G=r.$$legacy;return(function(c,m){return arguments.length>0?((!t||!m||G||O)&&l(m?d():c),c):d()})}var x=!1,h=((n&fe)!==0?ue:oe)(()=>(x=!1,d()));i&&P(h);var J=T;return(function(c,m){if(arguments.length>0){const E=m?P(h):t&&i?ee(c):c;return re(h,E),x=!0,a!==void 0&&(a=E),c}return le&&x||(J.f&se)!==0?h.v:P(h)})}export{z as B,we as c,me as i,Se as l,ve as p,Pe as r,xe as s};
